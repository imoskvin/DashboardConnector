[TOC]



## Запуск коннектора

Запуск коннектора производится в путем перехода к сайту с параметрами, которые были использованы при установке. По умолчанию переход осуществляется на http://localhost:8080

## Создание соединения

Соединение создается в Яндекс DataLens. Далее создается соединение в клиенте коннектора, для этого надо нажать на плюс

![image-20191223094621753](https://github.com/webzavod/1CDataLens/blob/master/Docs/images/image-20191223094621753.png)

В открывшемся окне необходимо ввести имя соединения (обязательно) и описание соединения:
![image-20191223094832751](https://github.com/webzavod/1CDataLens/blob/master/Docs/images/image-20191223094832751.png)

После этого создается соединение с пустыми настройками

![image-20191223095425899](https://github.com/webzavod/1CDataLens/blob/master/Docs/images/image-20191223095425899.png)

## Установка параметров соединения

Установка параметров соединения состоит из четырех частей, в которых устанавливаются параметры соединения к сервису 1С, соединению Яндекс DataLens, выбираются необходимые сущности, функции и их атрибуты и выбирается расписание для периодического обновления данных в  Яндекс DataLens

### Установка параметров соединения к сервису OData 1C

![image-20191223095234910](https://github.com/webzavod/1CDataLens/blob/master/Docs/images/image-20191223095234910.png)



### Установка параметров соединения к Яндекс DataLens

![image-20191223095333093](https://github.com/webzavod/1CDataLens/blob/master/Docs/images/image-20191223095333093.png)

### Выбор сущностей и полей сущностей 1С для загрузки

Выбор сущностей осуществляется на закладки **Данные** соединения. При этом будут загружаться метаданные 1С, но первый раз, после существенного простоя 1С, этот процесс может занять несколько минут. После загрузки метаданных на закладке отображается дерево сущностей 1С:

![image-20200124150954672](https://github.com/webzavod/1CDataLens/blob/master/Docs/images/image-20200124150954672.png)

#### Выбор сущностей самостоятельно

В зависимости от типа сущности, в дереве могут отображаться функции, кроме полей.

![image-20200124152323140](https://github.com/webzavod/1CDataLens/blob/master/Docs/images/image-20200124152323140.png)

У каждой функции так же есть свой набор полей. Кроме этого, в поле **Дополнительные параметры** можно вписать, например, выражение фильтра, описанное в документации 1С.

Выбор Свойств (полей) возможно только или в самой сущности или в функции. Одновременное выделение - недопустимо. Выделение отдельных полей осуществляется кликом на чекбокс рядом с названием, при этом цветом выделяется сущность

 ![image-20200124153021425](https://github.com/webzavod/1CDataLens/blob/master/Docs/images/image-20200124153021425.png)

 и становится возможным осуществить просмотр данных.  Для этого можно нажать на иконку рядом с названием сущности, при этом происходит переход на страницу предпросмотра данных, где показываются данные и текст запроса с OData сервису 1С

![image-20200124153401334](https://github.com/webzavod/1CDataLens/blob/master/Docs/images/image-20200124153401334.png)

После этого можно вернутся, сохранить изменения или перейти к установке расписания, при этом все изменения сохранятся.

#### Выбор сущностей с помощью шаблона отчета

Для выбора сущностей и их свойств из шаблона необходимо выбрать необходимый шаблон из списка, который находится над деревом сущностей 1С:
![image-20200124153946662](https://github.com/webzavod/1CDataLens/blob/master/Docs/images/image-20200124153946662.png)

При этом выделятся все найденные сущности и свойства.

### Настройка параметров расписания

## Просмотр результатов работы коннектора

## Работа с шаблонами

Шаблон отчета - это набор данных, достаточный для того, что бы построить отчет, того или иного вида. Шаблоны работают с данными стандартных конфигураций 1С. В каждом шаблоне есть описание того, что отчет обозначает и с какой конфигурацией он работает. Шаблоны распространяются в виде JSON файлов, которые можно получить с GitHub.

### Добавление шаблона

Предварительно шаблон необходимо загрузить в локальную папку на компьютере пользователя. Затем выбрать слева "Шаблоны" и нажать на кнопку загрузки шаблона:

![image-20191205163530441](https://github.com/webzavod/1CDataLens/blob/master/Docs/images/image-20191205163530441.png)

Далее необходимо выбрать файл и нажать кнопку Открыть или Open (в зависимости от языковых настроек компьютера):
![image-20191205163841100](https://github.com/webzavod/1CDataLens/blob/master/Docs/images/image-20191205163841100.png)

После этого шаблон появится в списке доступных шаблонов:

![image-20191205164317579](https://github.com/webzavod/1CDataLens/blob/master/Docs/images/image-20191205164317579.png)

### Обновление шаблона

Обновление шаблона происходит аналогично тому, как происходит добавление шаблона. При этом новая версия шаблона заменяет старую в локальном хранилище 1С Коннектора.

### Удаление шаблона

Удаление шаблона происходит при нажатии на символ корзины ![image-20191205164608207](https://github.com/webzavod/1CDataLens/blob/master/Docs/images/image-20191205164608207.png)рядом с выбранным шаблоном. При этом шаблон удаляется из локального хранилища 1С Коннектора.

## Создание датасета в Яндекс DataLens

